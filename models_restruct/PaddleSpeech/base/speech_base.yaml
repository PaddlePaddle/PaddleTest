train:
  name: multi
  path: ${model_path}
  cmd: pwd; ./path.sh; source ${MAIN_ROOT}/utils/parse_options.sh; conf_path=conf/default.yaml; train_output_path=exp/default; ./local/train.sh ${conf_path} ${train_output_path}

eval:
  name: synthesize
  path: ${model_path}
  cmd:  pwd; wget https://paddlespeech.bj.bcebos.com/Parakeet/released_models/pwgan/pwg_baker_ckpt_0.4.zip; unzip pwg_baker_ckpt_0.4.zip;head -10 ./dump/test/norm/metadata.jsonl > ./metadata_10.jsonl;ckpt_name=snapshot_iter_153.pdz;sed -i "s#dump/test/norm/metadata.jsonl#./metadata_10.jsonl#g;s#python3#python#g" ./local/synthesize.sh; conf_path=conf/default.yaml; train_output_path=exp/default; ckpt_name=snapshot_iter_153.pdz;./local/synthesize.sh ${conf_path} ${train_output_path} ${ckpt_name}

export:
  name: synthesize_e2e
  path: ${model_path}
  cmd:  ./path; echo ${BIN_DIR}; conf_path=conf/default.yaml; train_output_path=exp/default; pwd; head -5 ${BIN_DIR}/../sentences.txt > sentences_5.txt; sed -i "s/python3/python/g" ./local/synthesize_e2e.sh; sed -i "s!${BIN_DIR}/../sentences.txt!./sentences_5.txt!g" ./local/synthesize_e2e.sh; ./local/synthesize_e2e.sh ${conf_path} ${train_output_path} ${ckpt_name}

predict:
  name: inference
  path: ${model_path}
  cmd: ./path; pwd; sed -i "s#python3#python#g;s#${BIN_DIR}/../sentences.txt#./sentences_5.txt#g" ./local/inference.sh; ./local/inference.sh ${train_output_path}
